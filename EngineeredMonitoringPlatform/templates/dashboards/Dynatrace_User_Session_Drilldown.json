{"success": true,"messages": [],"payload": [
  {
    "PK_ID": 28,
    "FK_ID_USER": 1,
    "NAME": "Dynatrace User Session Drilldown",
    "DESCRIPTION": null,
    "TAGS": null,
    "IS_SHARED": false,
    "JSON_SHARE_WITH_USERS": {},
    "JSON_SHARE_WITH_GROUPS": {},
    "JSON_EDITORS": {},
    "JSON_EDITOR_GROUPS": {},
    "ALLOW_EDIT_SETTINGS": true,
    "TIME_CREATED": 1736233349083,
    "LAST_UPDATED": null,
    "IS_PUBLIC": false,
    "START_FULLSCREEN": false,
    "IS_DELETABLE": true,
    "IS_RENAMABLE": true,
    "IS_ARCHIVED": false,
    "VERSION_GROUP": null,
    "VERSION": 0,
    "username": "admin",
    "widgets": [
      {
        "PK_ID": 373,
        "FK_ID_DASHBOARD": 28,
        "TYPE": "cfw_parameter",
        "X": 0,
        "Y": 0,
        "WIDTH": 36,
        "HEIGHT": 8,
        "TITLE": null,
        "TITLE_LINK": null,
        "TITLE_INFO": null,
        "TITLE_FONTSIZE": null,
        "TITLE_POSITION": null,
        "TITLE_ALIGN": null,
        "CONTENT_FONTSIZE": null,
        "FOOTER": null,
        "BGCOLOR": null,
        "FGCOLOR": null,
        "INVISIBLE": false,
        "PAUSE": false,
        "MANUAL_LOAD": false,
        "PARAM_WIDGET_LOAD": false,
        "JSON_SETTINGS": {
          "description": null,
          "JSON_PARAMETERS": {
            "132": "session_id",
            "133": "environment"
          },
          "addtotop": false,
          "showbutton": true,
          "buttonlabel": null,
          "checkpassword": false,
          "password": null,
          "JSON_AFFECTED_WIDGETS": {},
          "load_previous_values": true
        },
        "JSON_TASK_PARAMETERS": {}
      },
      {
        "PK_ID": 374,
        "FK_ID_DASHBOARD": 28,
        "TYPE": "cfw_widget_queryresults",
        "X": 0,
        "Y": 8,
        "WIDTH": 61,
        "HEIGHT": 54,
        "TITLE": "User Actions for Session",
        "TITLE_LINK": null,
        "TITLE_INFO": null,
        "TITLE_FONTSIZE": null,
        "TITLE_POSITION": "top",
        "TITLE_ALIGN": "start",
        "CONTENT_FONTSIZE": null,
        "FOOTER": null,
        "BGCOLOR": "null",
        "FGCOLOR": "null",
        "INVISIBLE": false,
        "PAUSE": false,
        "MANUAL_LOAD": false,
        "PARAM_WIDGET_LOAD": false,
        "JSON_SETTINGS": {
          "query": "###########################################################\r\n# \r\n###########################################################\r\n| paramdefaults\r\n\tsession_id \u003d \"%\"\r\n| globals\r\n\tCREDENTIALS \u003d $environment$\r\n\tQUERY \u003d encode(`\r\nSELECT \r\napdexCategory\r\n\t, application\r\n\t, domain\r\n\t, startTime\r\n\t, endTime\r\n\t, duration\r\n\t, name\r\n\t, requestStart\r\n\t, responseEnd\r\n\t, networkTime\r\n\t, serverTime\r\n\t, targetURL\r\n\t, type\r\n\t, visuallyCompleteTime\r\nFROM useraction \r\nWHERE usersession.userSessionId \u003d\"`+param(session_id)+`\"\r\n`)\r\n\r\n| source web \r\n\turl\u003d globals(CREDENTIALS).url \r\n\t\t\t+ \"/api/v1/userSessionQueryLanguage/table?\"\r\n\t\t\t+\"query\u003d\"+globals(QUERY)\r\n\t\t\t+\"\u0026addDeepLinkFields\u003dfalse\"\r\n\t\t\t+\"\u0026explain\u003dfalse\"\r\n\t\t\t+\"\u0026startTimestamp\u003d\"+earliest()\r\n\t\t\t+\"\u0026endTimestamp\u003d\"+latest()\r\n\t\t\t+\"\u0026pageSize\u003d5000\"\r\n\t\r\n\theaders \u003d object( \"Authorization\" \"Api-Token \"+ globals(CREDENTIALS).password )\r\n| unbox values\r\n| set\r\n\t\"Dynatrace\" \u003d globals(CREDENTIALS).url \r\n\t\t\t+ \"/ui/user-sessions/query?gtf\u003d-100d%20to%20now\u0026gf\u003dall\u0026sessionquery\u003d\"\r\n\t\t\t+ globals(QUERY)\r\n\t\t\t\r\n\t\"apdexCategory\" \u003d values[0]\r\n\t\"application\" \t\u003d values[1]\r\n\t\"domain\" \t\t\u003d values[2]\r\n\t\"startTime\" \t\u003d values[3]\r\n\t\"endTime\" \t\t\u003d values[4]\r\n\t\"duration\" \t\t\u003d values[5]\r\n\t\"name\" \t\t\t\u003d values[6]\r\n\t\"requestStart\" \t\u003d values[7]\r\n\t\"responseEnd\" \t\u003d values[8]\r\n\t\"networkTime\" \t\u003d values[9]\r\n\t\"serverTime\" \t\u003d values[10]\r\n\t\"targetURL\" \t\u003d values[11]\r\n\t\"type\" \t\t\t\u003d values[12]\r\n\t\"visuallyCompleteTime\" \u003d values[13]\r\n| remove columnNames, values, extrapolationLevel\r\n| formatfield \r\n\r\n\t\"Dynatrace\"\u003d [\u0027link\u0027, \"Dynatrace\", \"button\", \"fa-external-link-square-alt\", \"blank\"]\r\n\t\r\n\t[ duration\r\n\t, requestStart\r\n\t, responseEnd\r\n\t, networkTime\r\n\t, serverTime\r\n\t, visuallyCompleteTime \r\n\t]\r\n\t\t\u003d [ [\u0027separators\u0027], [\u0027align\u0027, right], [\u0027postfix\u0027, \u0027 ms\u0027]\r\n\t\r\n\t[ startTime\r\n\t, endTime\r\n\t]\t\r\n\t\t\u003d [\u0027timestamp\u0027, \"yyyy-MM-DD HH:mm:ss\"]\r\n\r\n| sort count reverse\u003dtrue\r\n| display \r\n\tdownload \u003d true\r\n",
          "sampledata": false
        },
        "JSON_TASK_PARAMETERS": {}
      },
      {
        "PK_ID": 375,
        "FK_ID_DASHBOARD": 28,
        "TYPE": "cfw_widget_queryresults",
        "X": 0,
        "Y": 62,
        "WIDTH": 61,
        "HEIGHT": 34,
        "TITLE": "Durations by Domain",
        "TITLE_LINK": null,
        "TITLE_INFO": null,
        "TITLE_FONTSIZE": null,
        "TITLE_POSITION": "top",
        "TITLE_ALIGN": "start",
        "CONTENT_FONTSIZE": null,
        "FOOTER": null,
        "BGCOLOR": "null",
        "FGCOLOR": "null",
        "INVISIBLE": false,
        "PAUSE": false,
        "MANUAL_LOAD": false,
        "PARAM_WIDGET_LOAD": false,
        "JSON_SETTINGS": {
          "query": "###########################################################\r\n# \r\n###########################################################\r\n| paramdefaults\r\n\tsession_id \u003d \"%\"\r\n| globals\r\n\tCREDENTIALS \u003d $environment$\r\n\tQUERY \u003d encode(`\r\nSELECT \r\napdexCategory\r\n\t, application\r\n\t, domain\r\n\t, startTime\r\n\t, endTime\r\n\t, duration\r\n\t, name\r\n\t, requestStart\r\n\t, responseEnd\r\n\t, networkTime\r\n\t, serverTime\r\n\t, targetURL\r\n\t, type\r\n\t, visuallyCompleteTime\r\nFROM useraction \r\nWHERE usersession.userSessionId \u003d\"`+param(session_id)+`\"\r\n`)\r\n\r\n| source web \r\n\turl\u003d globals(CREDENTIALS).url \r\n\t\t\t+ \"/api/v1/userSessionQueryLanguage/table?\"\r\n\t\t\t+\"query\u003d\"+globals(QUERY)\r\n\t\t\t+\"\u0026addDeepLinkFields\u003dfalse\"\r\n\t\t\t+\"\u0026explain\u003dfalse\"\r\n\t\t\t+\"\u0026startTimestamp\u003d\"+earliest()\r\n\t\t\t+\"\u0026endTimestamp\u003d\"+latest()\r\n\t\t\t+\"\u0026pageSize\u003d5000\"\r\n\t\r\n\theaders \u003d object( \"Authorization\" \"Api-Token \"+ globals(CREDENTIALS).password )\r\n| unbox values\r\n| set\r\n\t\"apdexCategory\" \u003d values[0]\r\n\t\"application\" \t\u003d values[1]\r\n\t\"domain\" \t\t\u003d values[2]\r\n\t\"startTime\" \t\u003d values[3]\r\n\t\"endTime\" \t\t\u003d values[4]\r\n\t\"duration\" \t\t\u003d values[5]\r\n\t\"name\" \t\t\t\u003d values[6]\r\n\t\"requestStart\" \t\u003d values[7]\r\n\t\"responseEnd\" \t\u003d values[8]\r\n\t\"networkTime\" \t\u003d values[9]\r\n\t\"serverTime\" \t\u003d values[10]\r\n\t\"targetURL\" \t\u003d values[11]\r\n\t\"type\" \t\t\t\u003d values[12]\r\n\t\"visuallyCompleteTime\" \u003d values[13]\r\n| remove columnNames, values, extrapolationLevel\r\n| chart\r\n\tby\u003d[domain] \r\n\ttype\u003d\u0027line\u0027\r\n\tx\u003dendTime # start time in epoch milliseconds\r\n\ty\u003dduration # end time in epoch milliseconds\r\n\t\r\n",
          "sampledata": false
        },
        "JSON_TASK_PARAMETERS": {}
      }
    ],
    "parameters": [
      {
        "PK_ID": 132,
        "FK_ID_DASHBOARD": 28,
        "WIDGET_TYPE": null,
        "LABEL": "Text",
        "PARAM_TYPE": "TEXT",
        "NAME": "session_id",
        "VALUE": "%",
        "MODE": "MODE_SUBSTITUTE",
        "IS_MODE_CHANGE_ALLOWED": false,
        "IS_DYNAMIC": false
      },
      {
        "PK_ID": 133,
        "FK_ID_DASHBOARD": 28,
        "WIDGET_TYPE": null,
        "LABEL": "Select",
        "PARAM_TYPE": "VALUE_LABEL",
        "NAME": "environment",
        "VALUE": "{\"credentials(\\\"DYN_API_PROD\\\")\":\"PROD\"}",
        "MODE": "MODE_SUBSTITUTE",
        "IS_MODE_CHANGE_ALLOWED": false,
        "IS_DYNAMIC": false
      }
    ]
  }
]}
