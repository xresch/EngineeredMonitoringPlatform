{"success": true,"messages": [],"payload": [
  {
    "PK_ID": 2111,
    "FK_ID_USER": 1,
    "NAME": "STEP - Execution Statistics",
    "DESCRIPTION": null,
    "TAGS": null,
    "IS_SHARED": true,
    "JSON_SHARE_WITH_USERS": {},
    "JSON_SHARE_WITH_GROUPS": {},
    "JSON_EDITORS": {},
    "JSON_EDITOR_GROUPS": {},
    "ALLOW_EDIT_SETTINGS": true,
    "TIME_CREATED": 1719584795124,
    "LAST_UPDATED": 1730276570147,
    "IS_PUBLIC": false,
    "START_FULLSCREEN": false,
    "IS_DELETABLE": true,
    "IS_RENAMABLE": true,
    "IS_ARCHIVED": false,
    "VERSION_GROUP": "2f4404b5-223f-4ec7-9cff-8aee5872f07d",
    "VERSION": 0,
    "username": "admin",
    "widgets": [
      {
        "PK_ID": 46190,
        "FK_ID_DASHBOARD": 2111,
        "TYPE": "cfw_widget_queryresults",
        "X": 20,
        "Y": 6,
        "WIDTH": 44,
        "HEIGHT": 39,
        "TITLE": "Executions Stats by Scheduler for Timeframe",
        "TITLE_LINK": null,
        "TITLE_INFO": null,
        "TITLE_FONTSIZE": null,
        "TITLE_POSITION": "top",
        "TITLE_ALIGN": "start",
        "CONTENT_FONTSIZE": null,
        "FOOTER": null,
        "BGCOLOR": "null",
        "FGCOLOR": "null",
        "INVISIBLE": false,
        "PAUSE": false,
        "MANUAL_LOAD": false,
        "PARAM_WIDGET_LOAD": false,
        "JSON_SETTINGS": {
          "query": "| defaultparams limit\u003d50000\r\n| globals\r\n\tENV \u003d tojson( param(environment) )\r\n| execute stepsetenv( globals(ENV).envID )\r\n| source stepapi \r\n\tenvironment \u003d globals(ENV).envID\r\n\ttable\u003d\"executions\"\r\n\tquery\u003d`{\r\n\t\"filters\": [\r\n\t\t{\r\n\t\t\t\"collectionFilter\": {\r\n\t\t\t\t\"type\": \"And\",\r\n\t\t\t\t\"children\": [\r\n\t\t\t\t\t{\"type\": \"Gte\", \"field\": \"startTime\", \"value\": `+earliest()+` },\r\n\t\t\t\t\t{\"type\": \"Lte\", \"field\": \"endTime\", \"value\": `+latest()+`}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t\"skip\": 0,\r\n\t\"limit\": `+param(limit)+`,\r\n\t\"sort\": {\r\n\t\t\"field\": \"endTime\",\r\n\t\t\"direction\": \"DESCENDING\"\r\n\t},\r\n\t\"performEnrichment\": false,\r\n\t\"calculateCounts\": false\r\n}`\r\n| remove assertionPlan\r\n| unbox \r\n\texecutionParameters.userID\r\n\texecutiontTaskParameters.cronExpression\r\n| set \r\n\tproject \u003d stepprojectname(attributes.project)\r\n| formatlink\r\n\tproject \u003d globals(ENV).url + \"/#/scheduler?tenant\u003d\" + encode(project)\r\n| rename \r\n\tdescription \u003d scheduler\r\n| filter \r\n\tscheduler !\u003d null # exclude import errors\r\n\tuserID \u003d\u003d null # exlude manual execution\r\n| stats\r\n\tby\u003d[project, scheduler, cronExpression]\r\n\texecutionCount \u003d count()\r\n| sort executionCount reverse\u003dtrue\r\n| formatfield \r\n\t[startTime, endTime] \u003d timestamp\r\n\texecutionParameters \u003d list\r\n| remove schedulerID",
          "sampledata": false
        },
        "JSON_TASK_PARAMETERS": {
          "JSON_TIMEFRAME_OFFSET": {
            "offset": "1-h",
            "earliest": 1719582870079,
            "latest": 1719586470079,
            "clientTimezoneOffset": -120
          },
          "ALERTING_OCCURENCES_TO_RAISE": 2,
          "ALERTING_OCCURENCES_TO_RESOLVE": 2,
          "ALERTING_ALERTDELAY": 60,
          "ALERTING_RESENDDELAY": 600,
          "JSON_ALERTING_USERS_TO_ALERT": {
            "1": "admin"
          },
          "JSON_ALERTING_GROUPS_TO_ALERT": {},
          "JSON_ALERTING_ALERT_CHANNEL": {
            "Application Log": "false",
            "Notification": "true",
            "eMail": "true"
          },
          "ALERTING_CUSTOM_NOTES": "Please go check the schedules that have too much executions per hour (20 per hour should be plenty)",
          "valuefield": "executionCount",
          "labelfields": "scheduler",
          "detailfields": "project, cronExpression",
          "urlfield": "link",
          "THRESHOLD_GREEN": 0,
          "THRESHOLD_LIMEGREEN": null,
          "THRESHOLD_YELLOW": null,
          "THRESHOLD_ORANGE": null,
          "THRESHOLD_RED": 20,
          "THRESHOLD_DISABLED": false,
          "ALERT_THRESHOLD": "RED"
        }
      },
      {
        "PK_ID": 46222,
        "FK_ID_DASHBOARD": 2111,
        "TYPE": "cfw_widget_queryresults",
        "X": 0,
        "Y": 45,
        "WIDTH": 64,
        "HEIGHT": 38,
        "TITLE": "Executions at the same Second",
        "TITLE_LINK": null,
        "TITLE_INFO": null,
        "TITLE_FONTSIZE": null,
        "TITLE_POSITION": "top",
        "TITLE_ALIGN": "start",
        "CONTENT_FONTSIZE": null,
        "FOOTER": null,
        "BGCOLOR": "null",
        "FGCOLOR": "null",
        "INVISIBLE": false,
        "PAUSE": false,
        "MANUAL_LOAD": false,
        "PARAM_WIDGET_LOAD": false,
        "JSON_SETTINGS": {
          "query": "| defaultparams limit\u003d50000\r\n| globals\r\n\tENV \u003d tojson( param(environment) )\r\n| execute stepsetenv( globals(ENV).envID )\r\n| source stepapi \r\n\tenvironment \u003d globals(ENV).envID\r\n\ttable\u003d\"executions\"\r\n\tquery\u003d`{\r\n\t\"filters\": [\r\n\t\t{\r\n\t\t\t\"collectionFilter\": {\r\n\t\t\t\t\"type\": \"And\",\r\n\t\t\t\t\"children\": [\r\n\t\t\t\t\t{\"type\": \"Gte\", \"field\": \"startTime\", \"value\": `+earliest()+` },\r\n\t\t\t\t\t{\"type\": \"Lte\", \"field\": \"endTime\", \"value\": `+latest()+`}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t\"skip\": 0,\r\n\t\"limit\": `+param(limit)+`,\r\n\t\"sort\": {\r\n\t\t\"field\": \"endTime\",\r\n\t\t\"direction\": \"DESCENDING\"\r\n\t},\r\n\t\"performEnrichment\": false,\r\n\t\"calculateCounts\": false\r\n}`\r\n| formatfield \r\n\t[startTime, endTime] \u003d timestamp\r\n\texecutionParameters \u003d list\r\n| remove assertionPlan\r\n| unbox \r\n\texecutionParameters.userID\r\n\texecutiontTaskParameters.cronExpression\r\n| rename \r\n\tdescription\u003dscheduler\r\n\texecutionTaskID \u003d schedulerID \r\n| filter \r\n\tscheduler !\u003d null # exclude import errors\r\n\tuserID \u003d\u003d null # exlude manual execution\r\n| set \r\n\tproject \u003d stepprojectname(attributes.project)\r\n\tstartTime \u003d timetruncate(startTime, \"s\")\r\n\t\r\n\tobject \u003d object(\r\n\t\t  \"Link\", link\r\n\t\t, \"Project\", project\r\n\t\t, \"Scheduler\", scheduler\r\n\t\t, \"CRON\", cronExpression\r\n\t)\r\n| formatlink\r\n\tproject \u003d  globals(ENV).url + \"/#/scheduler?tenant\u003d\" + encode(project)\r\n\r\n| stats\r\n\tby\u003d[startTime]\r\n\tcount \u003d count()\r\n\tschedulers\u003drecords()\r\n| sort count reverse\u003dtrue\r\n\r\n| displayfields\r\n\tfields\u003d[schedulers] # All fields except BY fields\r\n\tas\u003dtable\r\n\tvisiblefields\u003d[project, scheduler, cronExpression]\r\n\t",
          "sampledata": false
        },
        "JSON_TASK_PARAMETERS": {}
      },
      {
        "PK_ID": 72771,
        "FK_ID_DASHBOARD": 2111,
        "TYPE": "cfw_widget_queryresults",
        "X": 0,
        "Y": 6,
        "WIDTH": 20,
        "HEIGHT": 39,
        "TITLE": "Executions Stats by Cron Expression",
        "TITLE_LINK": null,
        "TITLE_INFO": null,
        "TITLE_FONTSIZE": null,
        "TITLE_POSITION": "top",
        "TITLE_ALIGN": "start",
        "CONTENT_FONTSIZE": null,
        "FOOTER": null,
        "BGCOLOR": "null",
        "FGCOLOR": "null",
        "INVISIBLE": false,
        "PAUSE": false,
        "MANUAL_LOAD": false,
        "PARAM_WIDGET_LOAD": false,
        "JSON_SETTINGS": {
          "query": "| defaultparams limit\u003d50000\r\n| globals\r\n\tENV \u003d tojson( param(environment) )\r\n| execute stepsetenv( globals(ENV).envID )\r\n| source stepapi \r\n\tenvironment \u003d globals(ENV).envID\r\n\ttable\u003d\"executions\"\r\n\tquery\u003d`{\r\n\t\"filters\": [\r\n\t\t{\r\n\t\t\t\"collectionFilter\": {\r\n\t\t\t\t\"type\": \"And\",\r\n\t\t\t\t\"children\": [\r\n\t\t\t\t\t{\"type\": \"Gte\", \"field\": \"startTime\", \"value\": `+earliest()+` },\r\n\t\t\t\t\t{\"type\": \"Lte\", \"field\": \"endTime\", \"value\": `+latest()+`}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\t\"skip\": 0,\r\n\t\"limit\": `+param(limit)+`,\r\n\t\"sort\": {\r\n\t\t\"field\": \"endTime\",\r\n\t\t\"direction\": \"DESCENDING\"\r\n\t},\r\n\t\"performEnrichment\": false,\r\n\t\"calculateCounts\": false\r\n}`\r\n| remove assertionPlan\r\n| unbox \r\n\texecutionParameters.userID\r\n\texecutiontTaskParameters.cronExpression\r\n| set \r\n\tproject \u003d stepprojectname(attributes.project)\r\n\tlink \u003d \"https://step.acme.com/#/scheduler?tenant\u003d\"+project\r\n| rename \r\n\tdescription\u003dscheduler\r\n\texecutionTaskID \u003d schedulerID \r\n| filter \r\n\tscheduler !\u003d null # exclude import errors\r\n\tuserID \u003d\u003d null # exlude manual execution\r\n| stats\r\n\tby\u003d[cronExpression]\r\n\texecutionCount \u003d count()\r\n| sort executionCount reverse\u003dtrue\r\n| keep executionCount, cronExpression",
          "sampledata": false
        },
        "JSON_TASK_PARAMETERS": {}
      },
      {
        "PK_ID": 72773,
        "FK_ID_DASHBOARD": 2111,
        "TYPE": "cfw_parameter",
        "X": 0,
        "Y": 0,
        "WIDTH": 20,
        "HEIGHT": 6,
        "TITLE": null,
        "TITLE_LINK": null,
        "TITLE_INFO": null,
        "TITLE_FONTSIZE": null,
        "TITLE_POSITION": null,
        "TITLE_ALIGN": null,
        "CONTENT_FONTSIZE": null,
        "FOOTER": null,
        "BGCOLOR": null,
        "FGCOLOR": null,
        "INVISIBLE": false,
        "PAUSE": false,
        "MANUAL_LOAD": false,
        "PARAM_WIDGET_LOAD": false,
        "JSON_SETTINGS": {
          "description": null,
          "JSON_PARAMETERS": {
            "2064": "environment"
          },
          "addtotop": false,
          "showbutton": true,
          "buttonlabel": null,
          "checkpassword": false,
          "password": null,
          "JSON_AFFECTED_WIDGETS": {},
          "load_previous_values": true
        },
        "JSON_TASK_PARAMETERS": {}
      },
      {
        "PK_ID": 72775,
        "FK_ID_DASHBOARD": 2111,
        "TYPE": "cfw_htmleditor",
        "X": 20,
        "Y": 0,
        "WIDTH": 44,
        "HEIGHT": 6,
        "TITLE": null,
        "TITLE_LINK": null,
        "TITLE_INFO": null,
        "TITLE_FONTSIZE": null,
        "TITLE_POSITION": "top",
        "TITLE_ALIGN": "start",
        "CONTENT_FONTSIZE": null,
        "FOOTER": null,
        "BGCOLOR": "null",
        "FGCOLOR": "null",
        "INVISIBLE": false,
        "PAUSE": false,
        "MANUAL_LOAD": false,
        "PARAM_WIDGET_LOAD": false,
        "JSON_SETTINGS": {
          "content": "This dashboard shows various execution statistics for the selected timeframe.\u003cbr\u003e\u003cb\u003eTipp:\u003c/b\u003e You can create a new Cron Expression and test if it is already in use, by putting it in the filter field of the widget \"Execution Stats by Cron Expression\".\u0026nbsp;\u0026nbsp;"
        },
        "JSON_TASK_PARAMETERS": {}
      }
    ],
    "parameters": [
      {
        "PK_ID": 2063,
        "FK_ID_DASHBOARD": 2111,
        "WIDGET_TYPE": null,
        "LABEL": "Step Environment",
        "PARAM_TYPE": "SELECT",
        "NAME": "environment1",
        "VALUE": "132",
        "MODE": "MODE_SUBSTITUTE",
        "IS_MODE_CHANGE_ALLOWED": false,
        "IS_DYNAMIC": false
      },
      {
        "PK_ID": 2064,
        "FK_ID_DASHBOARD": 2111,
        "WIDGET_TYPE": null,
        "LABEL": "Select",
        "PARAM_TYPE": "VALUE_LABEL",
        "NAME": "environment",
        "VALUE": "{\"{\\\"envID\\\": 133, \\\"url\\\": \\\"https://step.acme.com\\\"}\":\"PROD\",\"{\\\"envID\\\": 132, \\\"url\\\": \\\"https://step-uat.acme.com\\\"}\":\"UAT\",\"{\\\"envID\\\": 138, \\\"url\\\": \\\"https://step-dev.acme.com\\\"}\":\"LPT\"}",
        "MODE": "MODE_SUBSTITUTE",
        "IS_MODE_CHANGE_ALLOWED": false,
        "IS_DYNAMIC": false
      }
    ]
  }
]}